<!DOCTYPE html>
<html lang="en">
<head>
    <title>AI Test</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
    <script src='https://unpkg.com/tesseract.js@5/dist/tesseract.min.js'></script>
</head>
<body>
    <h1>AI Model Test Page</h1>
    <p>Check the console to see the detection results.</p>
    <img id="testImage" src="test-image2.jpeg" width="640" height="480"/>

    <script>
        const testImage = document.getElementById('testImage');

// We'll rename the function to reflect its new purpose
async function runFullAnalysis() {
  console.log("Loading AI models...");
  const model = await cocoSsd.load();
  console.log("Object detection model loaded.");

  console.log("Running analysis on both models...");

  // Run object detection
  const objectPredictions = await model.detect(testImage);

  // Run text recognition
  const { data: { text } } = await Tesseract.recognize(testImage, 'eng'); // 'eng' for English

  console.log("--- Analysis Complete! ---");

  // Print both results to the console!
  console.log("Detected Objects: ", objectPredictions);
  console.log("Extracted Text: ", text);
}

// Run the function when the image has finished loading
testImage.onload = () => {
    runFullAnalysis();
};
    </script>
</body>
</html>