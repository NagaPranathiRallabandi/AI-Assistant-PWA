<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Accessibility Assistant</title>
    <link rel="icon" href="icon-512.png">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div id="loading"></div>
    <video id="video" autoplay playsinline></video>
    
    <div class="button-container">
        <button id="flashButton" title="Toggle Flashlight">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H3v10h10V2z"></path><path d="m7 16-4-4 4-4"></path><path d="M21 12h-8"></path></svg>
        </button>
        <button id="voiceButton" title="Use Voice Command">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
        </button>
        <button id="analyzeButton">Analyze Scene</button>
    </div>
    
    <script type="module" src="script.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            // Use a relative path for the service worker
            navigator.serviceWorker.register('sw.js')
                .then(registration => console.log('Service Worker registered!'))
                .catch(err => console.error('Service Worker registration failed: ', err));
        }
    </script>
</body>
</html>